first = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_permanent = {
		icon = mission_modernized_vikings
		position = 2
		required_missions = { pf_lag_raise } 
		provinces_to_highlight = {  } 

		trigger = {
			OR = {
				army_tradition = 25
				army_professionalism = 0.1
			}
			land_forcelimit = 25
		}

		effect = { 
			add_country_modifier = {
				name = pf_lag_permanent_army
				duration = 7300
			}
		} 
	}

	pf_lag_gunpowder = {
		icon = mission_cannons_firing
		position = 4
		required_missions = { pf_lag_permanent } 
		provinces_to_highlight = {  } 

		trigger = {
			num_of_artillery = 20
			has_mil_advisor_2 = yes
		}

		effect = { 
			add_country_modifier = {
				name = pf_lag_artillery
				duration = 3650
			}

			if = {
				limit = {
					OR = {
						full_idea_group = firepower_ideas
						full_idea_group = offensive_ideas
					}
				}
				custom_tooltip = YES_PF_LAG_ARTILLERY_DURATION_DOUBLED

				hidden_effect = {
					remove_country_modifier = pf_lag_artillery
					add_country_modifier = {
						name = pf_lag_artillery
						duration = 7300
					}
				}
			}
			else = {
				custom_tooltip = NO_PF_LAG_ARTILLERY_DURATION_DOUBLED
			}
		} 
	}

	pf_lag_tier = {
		icon = fra_military_reform
		position = 6
		required_missions = { pf_lag_gunpowder } 
		provinces_to_highlight = {  } 

		trigger = {
			if = {
				limit = { government = tribal } 
				has_reform_on_level = 4
			}
			else = { has_reform_on_level = 5 } 
		}

		effect = {
			add_mil_power = 50
			add_country_modifier = {
				name = pf_lag_general_staff
				duration = 18250
			}
		} 
	}

	pf_lag_doctrine = {
		icon = issue_general_reglement
		position = 7
		required_missions = { pf_lag_tier } 
		provinces_to_highlight = {  } 

		trigger = {
			OR = {
				full_idea_group = quality_ideas
				full_idea_group = quantity_ideas
				full_idea_group = mercenary_ideas
				full_idea_group = offensive_ideas
				full_idea_group = defensive_ideas
				full_idea_group = firepower_ideas
			}
		}

		effect = { 
			if = {
				limit = {
					full_idea_group = quality_ideas
				}
				custom_tooltip = YES_PF_LAG_FULL_QUALITY
				hidden_effect = {
					add_country_modifier = {
						name = pf_lag_full_quality
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_FULL_QUALITY }
			tooltip = {
				add_country_modifier = {
					name = pf_lag_full_quality
					duration = -1
				}
			}
			if = {
				limit = {
					full_idea_group = quantity_ideas
				}
				custom_tooltip = YES_PF_LAG_FULL_QUANTITY
				hidden_effect = {
					add_country_modifier = {
						name = pf_lag_full_quantity
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_FULL_QUANTITY }
			tooltip = {
				add_country_modifier = {
					name = pf_lag_full_quantity
					duration = -1
				}
			}
			if = {
				limit = {
					full_idea_group = mercenary_ideas
				}
				custom_tooltip = YES_PF_LAG_FULL_MERCENARY
				hidden_effect = {
					add_country_modifier = {
						name = pf_lag_full_mercenary
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_FULL_MERCENARY }
			tooltip = {
				add_country_modifier = {
					name = pf_lag_full_mercenary
					duration = -1
				}
			}
			if = {
				limit = {
					full_idea_group = offensive_ideas
				}
				custom_tooltip = YES_PF_LAG_FULL_OFFENSIVE
				hidden_effect = {
					add_country_modifier = {
						name = pf_lag_full_offensive
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_FULL_OFFENSIVE }
			tooltip = {
				add_country_modifier = {
					name = pf_lag_full_offensive
					duration = -1
				}
			}
			if = {
				limit = {
					full_idea_group = defensive_ideas
				}
				custom_tooltip = YES_PF_LAG_FULL_DEFENSIVE
				hidden_effect = {
					add_country_modifier = {
						name = pf_lag_full_defensive
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_FULL_DEFENSIVE }
			tooltip = {
				add_country_modifier = {
					name = pf_lag_full_defensive
					duration = -1
				}
			}
			if = {
				limit = {
					full_idea_group = firepower_ideas
				}
				custom_tooltip = YES_PF_LAG_FULL_FIREPOWER
				hidden_effect = {
					add_country_modifier = {
						name = pf_lag_full_firepower
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_FULL_FIREPOWER }
			tooltip = {
				add_country_modifier = {
					name = pf_lag_full_firepower
					duration = -1
				}
			}
		}
	}
}
second = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_raise = {
		icon = mission_native_build_army_mission
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			if = {
				limit = { ai = yes } 
				OR = {
					AND = {
						num_of_generals = 1
						army_size_percentage = 0.75
					}
					is_year = 1450
				}
			}
			else = {
				num_of_generals = 1
				army_size_percentage = 1
			}
		}

		effect = {
			add_country_modifier = {
				name = pf_lag_second_heathen_army
				duration = 3650
			}
			north_brabant_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			brabant_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			wallonia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			flanders_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
		}
	}

	pf_lag_secure = {
		icon = mission_spanish_netherlands
		position = 2
		required_missions = { pf_lag_raise } 
		provinces_to_highlight = {
			OR = {
				area = north_brabant_area
				area = brabant_area
				area = wallonia_area
				area = flanders_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
			north_brabant_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			brabant_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			wallonia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			flanders_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_country_modifier = {
				name = pf_lag_conquest_belgica
				duration = 5475
			}
			picardy_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			champagne_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			ile_de_france_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
		}
	}

	pf_lag_break = {
		icon = mission_hundred_years_war
		position = 4
		required_missions = { pf_lag_secure } 
		provinces_to_highlight = {
			OR = {
				area = picardy_area
				area = champagne_area
				area = lorraine_area
				area = ile_de_france_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
			total_development = GAU
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				OR = {
					area = picardy_area
					area = champagne_area
					area = lorraine_area
					area = ile_de_france_area
				}
				value = 12
			}
		}

		effect = {
			add_country_modifier = {
				name = pf_lag_gaul_broken
				duration = 3650
			}
			
			if = {
				limit = {
					NOT = { exists = GAU }
				}
				custom_tooltip = YES_PF_LAG_GAUL_BROKEN_PERMANENT

				hidden_effect = {
					remove_country_modifier = pf_lag_gaul_broken
					add_country_modifier = {
						name = pf_lag_gaul_broken
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_GAUL_BROKEN_PERMANENT }

			custom_tooltip = empty_line_tt

			normandy_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			loire_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			brittany_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			orleans_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
		}
	}

	pf_lag_push = {
		icon = mission_rb_conquer_brittany
		position = 5
		required_missions = { pf_lag_break } 
		provinces_to_highlight = {
			OR = {
				area = brittany_area
				area = loire_area
				area = normandy_area
				area = orleans_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
			brittany_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			loire_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			normandy_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			orleans_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = { 
			custom_tooltip = PF_LAG_PUSH_MODIFIER_AREAS
			tooltip = {
				add_province_modifier = {
					name = pf_lag_push_consolidate
					duration = 3650
				}
			}
			hidden_effect = {
				every_province = {
					limit = {
						owned_by = ROOT
						OR = {
							area = brittany_area
							area = loire_area
							area = normandy_area
							area = orleans_area
						}
					}
					add_province_modifier = {
						name = pf_lag_push_consolidate
						duration = 3650
					}
				}
			}
		} 
	}

	pf_lag_brest = {
		icon = brest_dockyards
		position = 6
		required_missions = { pf_lag_push } 
		provinces_to_highlight = {
			owned_by = ROOT
			area = brittany_area
			has_port = yes
			OR = {
				has_dock_building_trigger = no
				has_shipyard_building_trigger = no
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				area = brittany_area
				OR = {
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
				}
				value = 3
			}
		}

		effect = {
			add_navy_tradition = 20

			custom_tooltip = PF_LAG_BREST_MEET_REQUIREMENT
			tooltip = {
				add_province_modifier = {
					name = pf_lag_brest_dockyards
					duration = -1
				}
			}

			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							area = brittany_area
							area = normandy_area
						}
						OR = {
							has_dock_building_trigger = yes
							has_shipyard_building_trigger = yes
						}
					}
					add_province_modifier = {
						name = pf_lag_brest_dockyards
						duration = -1
					}
				}
			}
		} 
	}
}
third = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_raid = {
		icon = mission_raid_christian_trade
		position = 2
		required_missions = { pf_lag_longboats } 
		provinces_to_highlight = {
			has_port = yes
			owner = {
				NOT = { tag = ROOT }
				capital_scope = {
					OR = {
						region = scandinavia_region
						region = north_german_region
						region = british_isles_region
						region = france_region
						region = low_countries_region
					}
				}
				NOT = {
					has_opinion_modifier = {
						who = ROOT
						modifier = slaves_raided
					}
				}
			}
		}

		trigger = {
			calc_true_if = {
				desc = PF_LAG_RAIDED_COUNTRIES
				amount = 8
				all_country = {
					capital_scope = {
						OR = {
							region = scandinavia_region
							region = north_german_region
							region = british_isles_region
							region = france_region
							region = low_countries_region
						}
					}
					has_opinion_modifier = {
						who = ROOT
						modifier = slaves_raided
					}
				}
			}
		}

		effect = { 
			create_admiral = {
				tradition = 75
			}

			custom_tooltip = empty_line_tt

			add_country_modifier = {
				name = pf_lag_experienced_raiders
				duration = -1
			}
		 } 
	}

	pf_lag_develop_belgica = {
		icon = mission_hanseatic_city
		position = 3
		required_missions = { pf_lag_secure } 
		provinces_to_highlight = {
			OR = {
				area = north_brabant_area
				area = brabant_area
				area = wallonia_area
				area = flanders_area
			}
			country_or_non_sovereign_subject_holds = ROOT
			OR = {
				NOT = { development = 12 } 
				NOT = { num_of_times_improved_by_owner = 3 } 
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 8
				development = 12
				num_of_times_improved_by_owner = 3
				OR = {
					area = north_brabant_area
					area = brabant_area
					area = wallonia_area
					area = flanders_area
				}
			}
		}

		effect = {
			custom_tooltip = PF_LAG_DEVELOP_BELGICA_REWARD
			tooltip = {
				add_province_modifier = {
					name = pf_lag_belgica_proper
					duration = -1
				}
			}

			hidden_effect = {
				every_owned_province = {
					limit = {
						development = 12
						num_of_times_improved_by_owner = 3
						OR = {
							area = north_brabant_area
							area = brabant_area
							area = wallonia_area
							area = flanders_area
						}
					}
					add_province_modifier = {
						name = pf_lag_belgica_proper
						duration = -1
					}
				}
			}

			add_accepted_culture_or_dip_power = {
				culture = nervian
			}

			custom_tooltip = empty_line_tt

			90 = {
				center_of_trade = 1
			}
		} 
	}

	pf_lag_rheinland = {
		icon = rhineland_conquest
		position = 5
		required_missions = {
			pf_lag_encroach
			pf_lag_break
		}
		provinces_to_highlight = { 
			OR = {
				area = franconia_area
				area = hesse_area
				area = upper_franconia_area
				area = palatinate_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		} 

		trigger = { 
			franconia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			hesse_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			upper_franconia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			palatinate_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		} 

		effect = {
			add_country_modifier = {
				name = pf_lag_consolidate_rheinland
				duration = -1
			}

			custom_tooltip = PF_LAG_MERCANTILISM_FOR_COT
			hidden_effect = {
				every_owned_province = {
					limit = {
						province_has_center_of_trade_of_level = 1
						any_trade_node_member_province = {
							province_id = 1876
						}
					}
					owner = { add_mercantilism = 1 }
				}
			}
		} 
	}

	pf_lag_pax = {
		icon = spread_the_von_wettins
		position = 7
		required_missions = {
			pf_lag_rheinland
			pf_lag_push_celts
			pf_lag_wool_industry
			pf_lag_brest
			pf_lag_tier
		} 
		provinces_to_highlight = {
			is_capital = yes
			owner = { is_great_power = yes }
			NOT = { owned_by = ROOT }
		} 

		trigger = { 
			NOT = {
				great_power_rank = 1
			}
		} 

		effect = { 
			add_country_modifier = {
				name = pf_lag_pax_lagrlonder
				duration = -1
			}

			if = {
				limit = {
					OR = {
						in_golden_age = yes
						has_had_golden_age = yes
					}
				}
				custom_tooltip = YES_PF_LAG_EXTEND_RESET_GOLDEN_AGE
				hidden_effect = {
					if = {
						limit = {
							in_golden_age = yes
						}
						extend_golden_age = 360 # 30 years
					}
					if = {
						limit = {
							has_had_golden_age = yes
						}
						reset_golden_age = yes
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_EXTEND_RESET_GOLDEN_AGE }
		} 
	}
}
fourth = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_longboats = {
		icon = mission_longships
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			if = {
				limit = { ai = yes } 
				OR = {
					AND = {
						num_of_admirals = 1
						navy_size_percentage = 0.75
					}
					is_year = 1450
				}
			}
			else = {
				num_of_admirals = 1
				navy_size_percentage = 1
				num_of_heavy_ship = 3
			}
		}

		effect = { 
			add_country_modifier = {
				name = pf_lag_raiders_storm
				duration = 3650
			}

			north_westphalia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			westphalia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			north_rhine_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			lower_rhineland_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
		} 
	}

	pf_lag_encroach = {
		icon = encroach_on_the_germans
		position = 4
		required_missions = { pf_lag_longboats } 
		provinces_to_highlight = {
			OR = {
				area = north_westphalia_area
				area = westphalia_area
				area = north_rhine_area
				area = lower_rhineland_area
			}
		}

		trigger = {
			north_westphalia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			westphalia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			north_rhine_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			lower_rhineland_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_country_modifier = {
				name = pf_lag_encroach_on_germans
				duration = 7300
			}

			hesse_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			palatinate_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			franconia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
			upper_franconia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT
			}
		}
	}

	pf_lag_london = {
		icon = mission_rb_scottish_conquer_london
		position = 5
		required_missions = { pf_lag_break_clans } 
		provinces_to_highlight = { province_id = 236 } 

		trigger = {
			owns_core_province = 236
			236 = { development = 30 } 
			236 = { num_of_buildings_in_province = 4 } 
		}

		effect = { 
			236 = {
				add_province_modifier = {
					name = pf_lag_thames
					duration = -1
				}
			}

			# TODO: add access to great project
		 } 
	}

	pf_lag_wool_industry = {
		icon = mission_son_own_develop_clothes_and_salt
		position = 6
		required_missions = { pf_lag_london } 
		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				trade_goods = wool
				trade_goods = cloth
			}
			NOT = { base_production = 6 }
			has_production_building_trigger = no
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 12
				base_production = 6
				has_production_building_trigger = yes
				OR = {
					trade_goods = wool
					trade_goods = cloth
				}
			}
		} 

		effect = {
			custom_tooltip = PF_LAG_SILK_MODIFIER
			tooltip = {
				add_province_modifier = {
					name = pf_lag_cloth_industry
					duration = 7300
				}
			}

			custom_tooltip = PF_LAG_SILK_CHANGE_TRADE_GOOD

			hidden_effect = {
				every_owned_province = {
					limit = {
						base_production = 6
						has_production_building_trigger = yes
						OR = {
							trade_goods = wool
							trade_goods = cloth
						}
					}
					add_province_modifier = {
						name = pf_lag_cloth_industry
						duration = 7300
					}
					if = {
						limit = {
							base_production = 9
							trade_goods = wool
						}
						change_trade_goods = cloth
					}
					add_base_production = 1
				}
			}
		} 
	}
}
fifth = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_modernise = {
		icon = mission_develop_nevas_port
		position = 2
		required_missions = { pf_lag_longboats } 
		provinces_to_highlight = {  } 

		trigger = {
			num_of_heavy_ship = 5
			navy_tradition = 20
			OR = {
				naval_reformer = 2
				has_dip_advisor_3 = yes
			}
		}

		effect = {
			add_country_modifier = {
				name = pf_lag_modern_navy
				duration = 10950
			}

			if = {
				limit = {
					exists = TRN
				}
				custom_tooltip = YES_PF_TRN_PU
			}
			else = {
				custom_tooltip = NO_PF_TRN_PU
			}
			tooltip = {
				add_casus_belli = {
					type = cb_restore_personal_union
					target = TRN
					months = 240
				}
			}

			custom_tooltip = empty_line_tt

			if = {
				limit = {
					NOT = {
						exists = TRN
					}
				}
				custom_tooltip = YES_PF_TRN_CLAIMS
			}
			else = {
				custom_tooltip = NO_PF_TRN_CLAIMS
			}
			tooltip = {
				home_counties_area = {
					limit = {
						NOT = { is_permanent_claim = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				east_anglia_area = {
					limit = {
						NOT = { is_permanent_claim = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
				east_midlands_area = {
					limit = {
						NOT = { is_permanent_claim = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}

			hidden_effect = {
				if = {
					limit = {
						exists = TRN
					}
					add_casus_belli = {
						type = cb_restore_personal_union
						target = TRN
						months = 240
					}
				}
				else = {
					home_counties_area = {
						limit = {
							NOT = { is_permanent_claim = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
					east_anglia_area = {
						limit = {
							NOT = { is_permanent_claim = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
					east_midlands_area = {
						limit = {
							NOT = { is_permanent_claim = ROOT }
							NOT = { is_core = ROOT }
						}
						add_permanent_claim = ROOT
					}
				}
			}
		} 
	}

	pf_lag_glorious = {
		icon = the_glorious_revolution
		position = 3
		required_missions = { pf_lag_modernise } 
		provinces_to_highlight = {
			OR = {
				owned_by = TRN
				AND = {
					OR = {
						area = home_counties_area
						area = east_anglia_area
						area = east_midlands_area
					}
					NOT = { country_or_non_sovereign_subject_holds = ROOT } 
				}
			}
		}

		trigger = {
			OR = {
				AND = {
					TRN = {
						is_subject_of = ROOT
						is_subject_of_type = personal_union
					}
				}
				AND = {
					home_counties_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					east_anglia_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					east_midlands_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}

		effect = {
			add_ruler_modifier = {
				name = pf_lag_trinovantes_crown
			}

			change_ruler_stat = {
				stat = mil
				amount = 1
			}
		 } 
	}

	pf_lag_break_clans = {
		icon = mission_rb_unite_the_clans
		position = 4
		required_missions = { pf_lag_glorious } 
		provinces_to_highlight = { 
			region = british_isles_region
			culture_group = old_celtic
			nationalism = 5
			unrest = 1
		} 

		trigger = {
			custom_trigger_tooltip = {
				tooltip = PF_LAG_COMPLETED_CLAN_REVOLTS
				OR = {
					has_country_flag = pf_lag_domesday_book
					has_country_flag = pf_lag_magna_carta
				}
			}
			if = {
				limit = {
					exists = TRN
				}
				TRN = {
					is_subject_of = ROOT
					is_subject_of_type = personal_union
					NOT = { liberty_desire = 20 }
				}
			}
			home_counties_area = {
				type = all
				OR = {
					owned_by = TRN
					AND = {
						NOT = { nationalism = 5 }
						NOT = { unrest = 1 }
					}
				}
			}
			east_anglia_area = {
				type = all
				OR = {
					owned_by = TRN
					AND = {
						NOT = { nationalism = 5 }
						NOT = { unrest = 1 }
					}
				}
			}
			east_midlands_area = {
				type = all
				OR = {
					owned_by = TRN
					AND = {
						NOT = { nationalism = 5 }
						NOT = { unrest = 1 }
					}
				}
			}
		} 

		effect = {
			if = {
				limit = {
					exists = TRN
					TRN = {
						is_subject_of = ROOT
						NOT = { liberty_desire = 1 }
					}
				}
				custom_tooltip = YES_PF_LAG_TRINOVANTES_ANNEX

				hidden_effect = {
					inherit = TRN
				}
			}
			else = {
				custom_tooltip = NO_PF_LAG_TRINOVANTES_ANNEX
			}

			custom_tooltip = empty_line_tt

			wessex_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			wales_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			west_midlands_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			scottish_marches_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			yorkshire_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		} 
	}

	pf_lag_push_celts = {
		icon = mission_rb_rule_britannia_irish_version
		position = 6
		required_missions = { pf_lag_break_clans } 
		provinces_to_highlight = { 
			OR = {
				area = wessex_area
				area = wales_area
				area = west_midlands_area
				area = scottish_marches_area
				area = yorkshire_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		} 

		trigger = {
			wessex_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			wales_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			west_midlands_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			scottish_marches_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			yorkshire_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		} 

		effect = { 
			add_country_modifier = {
				name = pf_lag_danelaw
				duration = 7300
			}

			if = {
				limit = {
					NOT = { exists = CEL }
				}
				custom_tooltip = YES_PF_LAG_DANELAW_PERMANENT
				hidden_effect = {
					remove_country_modifier = pf_lag_danelaw
					add_country_modifier = {
						name = pf_lag_danelaw
						duration = 21900
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_DANELAW_PERMANENT }
		} 
	}

	pf_lag_fortify = {
		icon = mission_rb_into_england
		position = 7
		required_missions = { pf_lag_push_celts } 
		provinces_to_highlight = {
			owned_by = ROOT
			region = british_isles_region
			OR = {
				has_fort_building_trigger = no
				AND = {
					has_port = yes
					has_coast_defense_building_trigger = no
				}
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 6
				has_fort_building_trigger = yes
				region = british_isles_region
			}
			num_of_owned_provinces_with = {
				value = 8
				has_coast_defense_building_trigger = yes
				region = british_isles_region
			}
		}

		effect = { 
			custom_tooltip = PF_LAG_FORTRESS_ALBION
			tooltip = {
				add_province_modifier = {
					name = pf_lag_fortress_albion
					duration = -1
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						region = british_isles_region
						OR = {
							has_fort_building_trigger = yes
							has_coast_defense_building_trigger = yes
						}
					}
					add_base_manpower = 2
					add_province_modifier = {
						name = pf_lag_fortress_albion
						duration = -1
					}
				}
			}
		}
	}
}
first_2 = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_expand_markets = {
		icon = mission_great_trading_houses
		position = 9
		required_missions = { pf_lag_secure_trade } 
		provinces_to_highlight = {
			owned_by = ROOT
			has_trade_building_trigger = no
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 8
				has_trade_building_trigger = yes
			}
		}

		effect = {
			custom_tooltip = PF_LAG_UPGRADE_MARKETPLACES
			hidden_effect = {
				random_owned_province = {
					limit = {
						OR = {
							has_building = marketplace
							has_building = trade_depot
							NOT = { has_province_flag = pf_lag_expanded_markets_upgrade }
						}
					}
					upgrade_building = { trade = yes }
					set_province_flag = pf_lag_expanded_markets_upgrade
				}
				random_owned_province = {
					limit = {
						OR = {
							has_building = marketplace
							has_building = trade_depot
							NOT = { has_province_flag = pf_lag_expanded_markets_upgrade }
						}
					}
					upgrade_building = { trade = yes }
					set_province_flag = pf_lag_expanded_markets_upgrade
				}
				random_owned_province = {
					limit = {
						OR = {
							has_building = marketplace
							has_building = trade_depot
							NOT = { has_province_flag = pf_lag_expanded_markets_upgrade }
						}
					}
					upgrade_building = { trade = yes }
					set_province_flag = pf_lag_expanded_markets_upgrade
				}
				every_owned_province = {
					limit = {
						has_province_flag = pf_lag_expanded_markets_upgrade
					}
					clr_province_flag = pf_lag_expanded_markets_upgrade
				}
				
			}

			custom_tooltip = empty_line_tt
			add_estate_loyalty = {
				estate = estate_burghers
				loyalty = 10
			}
		} 
	}

	pf_lag_port_desire = {
		icon = mission_unknown_mission
		position = 11
		required_missions = { pf_lag_expand_markets } 
		provinces_to_highlight = { province_id = 90 } 

		trigger = {
			90 = { has_trade_building_trigger = yes } 
			90 = { development = 35 } 
			90 = { num_of_buildings_in_province = 5 } 
			90 = { province_has_center_of_trade_of_level = 2 } 
		}

		effect = {
			90 = {
				add_province_modifier = {
					name = pf_lag_carthage_north
					duration = -1
				}
			}

			if = {
				limit = {
					NOT = {
						any_province = {
							higher_development_than = 90
						}
					}
				}
				custom_tooltip = YES_PF_LAG_PORT_DEVELOPED
				hidden_effect = {
					add_splendor = 100
				}
			}
			else = {
				custom_tooltip = NO_PF_LAG_PORT_DEVELOPED
			}
			tooltip = {
				add_splendor = 100
			}
		} 
	}

	pf_lag_embrace_global = {
		icon = mission_unknown_mission
		position = 13
		required_missions = { pf_lag_port_desire } 
		provinces_to_highlight = { 
			owned_by = ROOT
			province_has_center_of_trade_of_level = 1
			NOT = { province_has_center_of_trade_of_level = 3 }
		} 

		trigger = { 
			OR = {
				full_idea_group = trade_ideas
				num_of_owned_provinces_with = {
					value = 3
					province_has_center_of_trade_of_level = 3
				}
			}
			home_trade_node = {
				trade_node_value = 15	
			}
		} 

		effect = { 
			add_dip_power = 150
			add_country_modifier = {
				name = pf_lag_forunner_globalization
				duration = 7300
			}

			if = {
				limit = {
					is_institution_enabled = global_trade
				}
				custom_tooltip = YES_PF_LAG_GAIN_GLOBAL_TRADE
				custom_tooltip = empty_line_tt
				custom_tooltip = NO_PF_LAG_EXCLUSIVE_GLOBAL_TRADE

				hidden_effect = {
					capital_scope = {
						add_institution_embracement = {
							which = global_trade
							value = 100
						}
					}
					for = {
						amount = 3
						effect = "
							random_owned_province = {
								limit = {
									NOT = { global_trade = 100 }
								}
								add_institution_embracement = {
									which = global_trade
									value = 100
								}
							}
						"
					}
				}
			}
			else = {
				custom_tooltip = NO_PF_LAG_GAIN_GLOBAL_TRADE
				custom_tooltip = empty_line_tt
				custom_tooltip = YES_PF_LAG_EXCLUSIVE_GLOBAL_TRADE
			}
		}
	}

	pf_lag_warehouse = {
		icon = mission_unknown_mission
		position = 15
		required_missions = { pf_lag_embrace_global } 
		provinces_to_highlight = { 
			owned_by = ROOT
			OR = {
				has_trade_building_trigger = no
				AND = {
					is_institution_enabled = global_trade
					NOT = { global_trade = 100 }
				}
			}
		} 

		trigger = { 
			has_institution = global_trade
			OR = {
				home_trade_node = {
					trade_node_value = 30
				}
				num_of_owned_provinces_with = {
					value = 30
					has_trade_building_trigger = yes
				}
			}
		 } 

		effect = { 
			every_active_trade_node = {
				add_trade_modifier = {
					who = ROOT
					duration = 9125
					power = 30
					key = pf_lag_warehouse_modifier
				}
			}
			custom_tooltip = empty_line_tt
			add_country_modifier = {
				name = pf_lag_from_tokyo_to_paris
				duration = 9125
			}
		} 
	}
}
second_2 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_secure_trade = {
		icon = mission_dominate_home_trade_node
		position = 8
		provinces_to_highlight = {
		}

		trigger = {
			home_trade_node = {
				trade_share = {
					country = ROOT
					share = 51
				}
			}
		}

		effect = {
			define_advisor = {
				name = "Ján Péterszón Kóen"
				type = trader
				skill = 3
				religion = ROOT
				culture = ROOT
				cost_multiplier = 0.5
			}
		 } 
	}

	pf_lag_theology = {
		icon = mission_spread_the_reformation
		position = 10
		provinces_to_highlight = {  } 

		trigger = {
			OR = {
				NOT = { has_estate = estate_church } 
				AND = {
					estate_influence = {
						estate = estate_church
						influence = 50
					}
					estate_loyalty = {
						estate = estate_church
						loyalty = 60
					}
				}
			}
		}

		effect = {
			hidden_effect = {
				for = {
					custom_tooltip = PF_LAG_BASE_TAX_GAIN_3
					amount = 3
					effect = "
					random_owned_province = {
						limit = {
							religion = ROOT
						}
						add_base_tax = 1
					}
					"
				}
			}

			custom_tooltip = empty_line_tt

			add_country_modifier = {
				name = pf_lag_controlled_clergy
				duration = 3650
			}
			country_event = {
				id = pf_lagrlond_events.2
			}
		 } 
	}
}
second_3_locked = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = LAG
		NOT = { has_country_flag = pf_lag_humanist_path } 
		NOT = { has_country_flag = pf_lag_religious_path } 
	}

	pf_lag_religion_locked_1 = {
		icon = mission_locked_mission
		position = 12
		required_missions = { pf_lag_theology } 
		provinces_to_highlight = {  } 

		trigger = {
			custom_trigger_tooltip = {
				tooltip = PF_LAG_COMPLETE_THEOLOGIAN_DISCUSSION
				always = no
			}
		}

		effect = { custom_tooltip = PF_LAG_COMPLETE_THEOLOGIAN_DISCUSSION } 
	}

	pf_lag_religion_locked_2 = {
		icon = mission_locked_mission
		position = 13
		required_missions = { pf_lag_religion_locked_1 } 
		provinces_to_highlight = {  } 

		trigger = {
			custom_trigger_tooltip = {
				tooltip = PF_LAG_COMPLETE_THEOLOGIAN_DISCUSSION
				always = no
			}
		}

		effect = { custom_tooltip = PF_LAG_COMPLETE_THEOLOGIAN_DISCUSSION } 
	}
}
second_3_humanist = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = LAG
		has_country_flag = pf_lag_humanist_path
		NOT = { has_country_flag = pf_lag_religious_path } 
	}

	pf_lag_edict = {
		icon = edict_of_potsdam
		position = 12
		required_missions = { pf_lag_theology } 
		provinces_to_highlight = { 
			owned_by = ROOT
			NOT = { religion = ROOT }
		 } 

		trigger = {
			OR = {
				adm = 5
				national_focus = ADM
			}
			OR = {
				religious_unity = 0.8
				has_idea_group = humanist_ideas
				AND = {
					has_adm_advisor_3 = yes
					NOT = { advisor = inquisitor }
				}
			}
		} 

		effect = {
			add_country_modifier = {
				name = pf_lag_lagr_tolerance
				duration = -1
			}
		} 
	}

	pf_lag_peace_of_utrech = {
		icon = mission_interfaith_relations
		position = 13
		required_missions = { pf_lag_edict } 
		provinces_to_highlight = {  } 

		trigger = { 
			OR = {
				full_idea_group = humanist_ideas
				# TODO: replace with tooltips
				has_global_modifier_value = {
					which = tolerance_heathen
					value = 0.04
				}
				has_global_modifier_value = {
					which = tolerance_heretic
					value = 0.03
				}
			}
		} 

		effect = {
			unlock_estate_privilege = {
				estate_privilege = estate_burghers_pf_peace_of_utrech
			}

			custom_tooltip = empty_line_tt

			remove_country_modifier = pf_lag_lagr_tolerance
			add_country_modifier = {
				name = pf_lag_religious_peace
				duration = -1
			}
		 } 
	}
}
second_3_religious = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = LAG
		NOT = { has_country_flag = pf_lag_humanist_path } 
		has_country_flag = pf_lag_religious_path
	}

	pf_lag_heretics = {
		icon = defenestrate_the_heretics
		position = 12
		required_missions = { pf_lag_theology } 
		provinces_to_highlight = { 
			owned_by = ROOT
			NOT = { religion = ROOT }
		 } 

		trigger = { 
			has_global_modifier_value = {
				which = global_missionary_strength
				value = 0.045
			}
			OR = {
				theologian = 3
				inquisitor = 3
				monthly_adm = 6
			}
		 } 

		effect = { 
			add_country_modifier = {
				name = pf_lag_religious_unity
				duration = -1
			}

			custom_tooltip = PF_LAG_STRONGER_DETITIES
			set_country_flag = pf_lag_stronger_deities
		 } 
	}

	pf_lag_land_churches = {
		icon = mission_catholic_heddal_church
		position = 13
		required_missions = { pf_lag_heretics } 
		provinces_to_highlight = { 
			owned_by = ROOT
			OR = {
				has_tax_building_trigger = no
				NOT = { religion = ROOT }
			}
		} 

		trigger = {
			religious_unity = 1
			num_of_owned_provinces_with = {
				value = 16
				has_tax_building_trigger = yes
			}
		 } 

		effect = {
			custom_tooltip = PF_LAG_CHANGE_PERSONAL_DEITY
			set_country_flag = pf_lagr_can_switch_deities
		} 
	}
}
second_3 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_polaris_observatory = {
		icon = mission_unknown_mission
		position = 14
		required_missions = { pf_lag_universities } 
		provinces_to_highlight = { province_id = 97 } 

		trigger = { 
			97 = {
				has_building = university
			}
			OR = {
				dip = 4
				national_focus = DIP
			}
		 } 

		effect = {
			custom_tooltip = pf_lag_no_more_comet_sighted_event
			hidden_effect = {
				set_country_flag = no_more_comet_sighted_event
			}
		 } 
	}
}
third_2 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_sway = {
		icon = friends_in_high_places
		position = 9
		required_missions = {
			pf_lag_secure_trade
			pf_lag_frisians
		}
		provinces_to_highlight = {  } 

		trigger = { 
			estate_loyalty = {
				estate = estate_burghers
				loyalty = 60
			}
			num_of_estate_agendas_completed = {
				estate = estate_burghers
				value = 3
			}
			num_of_estate_privileges = {
				estate = estate_burghers
				value = 3
			}
		} 

		effect = { 
			add_country_modifier = {
				name = pf_lag_burgher_support
				duration = 7300
			}

			capital_scope = {
				add_trade_modifier = {
					who = ROOT
					duration = 3650
					power = 30
					key = pf_lag_burgher_support_trade_node
				}
			}

			custom_tooltip = empty_line_tt

			custom_tooltip = PF_LAG_COMPLETING_BURGHER_AGENDA
			hidden_effect = {
				set_country_flag = pf_lag_burgher_agenda_bonus
			}
		 } 
	}

	pf_lag_renaissance = {
		icon = florentine_renaissance
		position = 11
		required_missions = { pf_lag_sway } 
		provinces_to_highlight = { 
			owned_by = ROOT
			NOT = { renaissance = 100 } 
		} 

		trigger = {
			has_institution = renaissance
			stability = 1
			OR = {
				artist = 3
				has_adm_advisor_2 = yes
			}
		} 

		effect = {
			define_advisor = {
				# Reference to Dutch Diplomat in the Court of Burgundy
				# taken name Viglius, but called Wigle van Aytta van Zwichem
				# this is an Old Frisian transliteration
				name = "Wigle fan Aytta fan Swithem"
				type = diplomat
				skill = 3
				religion = germanic_religion
				culture = old_frisian
				cost_multiplier = 0.25
			}

			custom_tooltip = empty_line_tt

			add_country_modifier = {
				name = pf_lag_scholars
				duration = 7300
			}
		} 
	}

	pf_lag_absolutism = {
		icon = mission_english_absolutism
		position = 14
		required_missions = {
			pf_lag_renaissance
			pf_lag_universities
		}
		provinces_to_highlight = { 
			owned_by = ROOT
			NOT = { enlightenment = 100 }
		 } 

		trigger = { 
			has_institution = enlightenment
			absolutism = 60
			has_adm_advisor_3 = yes
			has_dip_advisor_3 = yes
			has_mil_advisor_3 = yes
		} 

		effect = { 
			add_prestige_or_monarch_power = {
				amount = 50
			}
			custom_tooltip = empty_line_tt
			change_ruler_stat = {
				stat = adm
				amount = 1
			}
			custom_tooltip = empty_line_tt
			change_ruler_stat = {
				stat = dip
				amount = 1
			}
			custom_tooltip = empty_line_tt
			change_ruler_stat = {
				stat = mil
				amount = 1
			}
		} 
	}
}
fourth_2 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_frisians = {
		icon = the_true_freedom
		position = 8
		provinces_to_highlight = { 
			owned_by = ROOT
			culture = old_frisian
			OR = {
				devastation = 1
				local_autonomy_above_min = 0
			}
		 } 

		trigger = {
			NOT = {
				any_owned_province = {
					culture = old_frisian
					devastation = 0
					NOT = { local_autonomy_above_min = 1 }
				}
			}
		} 

		effect = {
			add_stability_or_adm_power = yes
			add_accepted_culture_or_dip_power = { culture = old_frisian }

			custom_tooltip = empty_line_tt

			add_country_modifier = {
				name = pf_lag_frisian_support
				duration = 5475
			}
		} 
	}

	pf_lag_rein_nobles = {
		icon = rein_in_the_nobles
		position = 10
		provinces_to_highlight = {  } 

		trigger = {
			OR = {
				NOT = { has_estate = estate_nobles }
				AND = {
					NOT = { 
						num_of_estate_privileges = {
							estate = estate_nobles
							value = 3
						}
					}
					NOT = {
						estate_influence = {
							estate = estate_nobles
							influence = 70
						}
					}
					estate_loyalty = {
						estate = estate_nobles
						loyalty = 60
					}
				}
			}
		} 

		effect = { 
			add_adm_power = 50
			custom_tooltip = empty_line_tt
			add_country_modifier = {
				name = pf_lag_nobles_curtailed
				duration = 7300
			}
			custom_tooltip = PF_LAG_SEIZE_LAND_NOBLES
			
			hidden_effect = {
				disable_rebels_from_seize_land_for_estate = {
					estate = estate_nobles
				}
				# Remove the disable_rebels_from_seize_land_for_estate
				# when the modifier runs out
				country_event = {
					id = pf_lagrlond_events.1
					days = 7300
				}
			}
		 } 
	}

	pf_lag_capital = {
		icon = fra_crown_seat_capital
		position = 11
		required_missions = { pf_lag_rein_nobles } 
		provinces_to_highlight = { 
			is_capital_of = ROOT
		 } 

		trigger = {
			capital_scope = { development = 30 } 
			capital_scope = { num_of_buildings_in_province = 5 } 
			capital_scope = { 
				NOT = { devastation = 1 }
			} 
			capital_scope = { is_prosperous = yes }
		}

		effect = {
			capital = { change_trade_goods = glass }
			custom_tooltip = empty_line_tt
			add_country_modifier = {
				name = pf_lag_glorious_court
				duration = 3650
			}

			custom_tooltip = PF_LAG_EVOLVED_IDEAS
			hidden_effect = {
				# We would normally fire ideagroups.1
				# but we have no formables so lets just
				# switch instantly
				swap_free_idea_group = yes
			}
		} 
	}

	pf_lag_centralize = {
		icon = mission_rb_college_of_justice
		position = 12
		required_missions = {
			pf_lag_capital
			pf_lag_renaissance
		}
		provinces_to_highlight = { 
			owned_by = ROOT
			OR = {
				NOT = { culture = ROOT }
				NOT = { religion = ROOT }
				has_courthouse_building_trigger = no
			}
		 }

		trigger = {
			development_in_provinces = {
				value = 150
				culture = ROOT
				religion = ROOT
			}
			num_of_owned_provinces_with = {
				value = 8
				has_courthouse_building_trigger = yes
			}
		} 

		effect = { 
			hidden_effect = {
				change_government = republic
			}
			add_government_reform = pf_lagr_republic
		 } 
	}

	pf_lag_universities = {
		icon = mission_early_modern_university
		position = 13
		required_missions = { pf_lag_centralize } 
		provinces_to_highlight = { 
			owned_by = ROOT
			NOT = { has_building = university }
		 } 

		trigger = { 
			OR = {
				innovativeness = 50
				full_idea_group = innovativeness_ideas
				university = 5
			}
		} 

		effect = { 
			change_innovativeness = 4

			custom_tooltip = empty_line_tt
			
			add_country_modifier = {
				name = pf_lag_educated_elite
				duration = 3650
			}
		} 
	}

	pf_lag_medical_school = {
		icon = mission_book_of_royal_degrees
		position = 14
		required_missions = { pf_lag_universities } 
		provinces_to_highlight = {  } 

		trigger = {
			OR = {
				has_adm_advisor_3 = yes
				adm = 5
			}
			OR = {
				innovativeness = 20
				has_idea_group = innovativeness_ideas
			}
		} 

		effect = {
			add_yearly_manpower = 1

			custom_tooltip = emp_ven_plague_doctor_training_tt
			set_country_flag = has_competent_doctors
		 } 
	}
}
fifth_2 = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_develop = {
		icon = bavarian_netherlands
		position = 9
		required_missions = { pf_lag_frisians } 
		provinces_to_highlight = {
			owned_by = ROOT
			region = low_countries_region
			NOT = { development = 15 } 
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 8
				development = 15
				region = low_countries_region
			}
		}

		effect = { 
			add_country_modifier = {
				name = pf_lag_burgeoning_lowlands
				duration = 5475
			}	
		} 
	}

	pf_lag_develop_outer_rim = {
		icon = mission_have_manufactories
		position = 11
		required_missions = { pf_lag_develop } 
		provinces_to_highlight = {
			owned_by = ROOT
			NOT = { region = low_countries_region } 
			NOT = { development = 10 } 
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 12
				NOT = { region = low_countries_region }
				development = 10
			}
		}

		effect = { 
			add_country_modifier = {
				name = pf_lag_developed_outer_rim
				duration = -1
			}

			# ADM Advisors now give 0.05 governing capacity per level
			custom_tooltip = PF_LAG_ADVISOR_BUILD_TIME
			hidden_effect = {
				set_country_flag = pf_lag_adm_build_time
			}
		} 
	}

	pf_lag_promote_urbanisation = {
		icon = mission_eastern_european_city
		position = 12
		required_missions = { pf_lag_develop_outer_rim } 
		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				has_production_building_trigger = no
				NOT = { development = 15 }
			}
		} 

		trigger = { 
			num_of_owned_provinces_with = {
				value = 10
				OR = {
					has_forcelimit_building_trigger = yes
					has_production_building_trigger = yes
				}
			}
			num_of_owned_provinces_with = {
				value = 12
				OR = {
					base_tax = 6
					base_manpower = 7
				}
			}
		} 

		effect = {
			add_country_modifier = {
				name = pf_lag_urbanisation
				duration = -1
			}
			custom_tooltip = PF_LAG_DOUBLE_DEV_CHANCE
		} 
	}

	pf_lag_industrial = {
		icon = industrialized_rhineland
		position = 13
		required_missions = { pf_lag_promote_urbanisation } 
		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				has_manufactory_trigger = no
				NOT = { base_production = 8 }
			}
		} 

		trigger = { 
			num_of_owned_provinces_with = {
				value = 20
				has_manufactory_trigger = yes
			}
			num_of_owned_provinces_with = {
				value = 12
				base_production = 8
			}
			num_of_owned_provinces_with = {
				value = 4
				OR = {
					trade_goods = coal
					has_latent_trade_goods = coal
				}
			}
		} 

		effect = {
			custom_tooltip = PF_LAG_GIVE_FURNACE_TO_COAL_PROVINCE
			hidden_effect = {
				random_owned_province = {
					limit = {
						OR = {
							trade_goods = coal
							has_latent_trade_goods = coal	
						}
					}
					add_building = furnace
				}
			}
		 } 
	}

	pf_lag_made_in = {
		icon = saxon_manufacturing
		position = 14
		required_missions = { pf_lag_industrial } 
		provinces_to_highlight = { 
			owner = {
				monthly_income = ROOT
			}
		 } 

		trigger = { 
			custom_trigger_tooltip = {
				tooltip = PF_LAG_HIGHEST_INCOME
				NOT = {
					any_country = {
						monthly_income = ROOT
					}
				}
			}
		} 

		effect = {
			add_years_of_owned_provinces_production_income = {
				years = 1.5
				trigger = {
					has_production_building_trigger = yes
				}
				custom_tooltip = INCOME_FROM_WORKSHOPS_DESC
			}
			add_country_modifier = {
				name = pf_lag_workshop_world
				duration = -1
			}
		} 
	}
}
first_3 = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_east_coast = {
		icon = mission_rb_the_thirteen_colonies
		position = 17
		required_missions = { pf_lag_vinland } 
		provinces_to_highlight = {
			colonial_region = colonial_eastern_america
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = { is_colonial_nation_of = ROOT } 
				}
			}
		}

		trigger = { 
			# Probably make it a custom_trigger_tooltip
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_eastern_america
			}
		}

		effect = {
			define_advisor = {
				name = "Péter Stúvesant"
				type = navigator
				skill = 3
				culture = old_frisian
				religion = ROOT
				cost_multiplier = 0.25
			}
			custom_tooltip = empty_line_tt
			for = {
				custom_tooltip = PF_LAG_INCREASE_COLONISTS
				amount = 3
				effect = "
				random_owned_province = {
					limit = {
						owned_by = ROOT
						is_city = no
					}
				}
				"
			}
		 } 
	}

	pf_lag_louisiana = {
		icon = mission_colonize_louisiana
		position = 19
		required_missions = { pf_lag_east_coast } 
		provinces_to_highlight = {
			colonial_region = colonial_louisiana
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = { is_colonial_nation_of = ROOT } 
				}
			}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_louisiana
			}
		}

		effect = {
			add_country_modifier = {
				name = pf_lag_up_the_river
				duration = 3650
			}
		} 
	}

	pf_lag_california = {
		icon = mission_colonize_california
		position = 21
		required_missions = { pf_lag_louisiana } 
		provinces_to_highlight = {
			colonial_region = colonial_california
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = { is_colonial_nation_of = ROOT } 
				}
			}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_california
			}
		}

		effect = {
			add_country_modifier = {
				name = pf_lag_gold_rush
				duration = 12775
			}
		} 
	}
}
second_4 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_vinland = {
		icon = mission_rb_colonise_canada
		position = 16
		required_missions = { pf_lag_into_beyond } 
		provinces_to_highlight = {
			colonial_region = colonial_canada
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = { is_colonial_nation_of = ROOT } 
				}
			}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_canada
			}
		}

		effect = { 
			custom_tooltip = PF_LAG_COLONIAL_GOVERNORS
			hidden_effect = {
				set_country_flag = pf_lag_extra_settlers
			}
		} 
	}

	pf_lag_cascadia = {
		icon = mission_colonize_alaska
		position = 18
		required_missions = { pf_lag_vinland } 
		provinces_to_highlight = {
			colonial_region = colonial_alaska
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = { is_colonial_nation_of = ROOT } 
				}
			}
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_alaska
			}
		}

		effect = {
			create_explorer = {
				tradition = 100
			}
		} 
	}

	pf_lag_fur_trade = {
		icon = mission_protect_white_sea_trade
		position = 20
		required_missions = { pf_lag_cascadia } 
		provinces_to_highlight = { 
			NOT = { owned_by = ROOT }
			has_discovered = ROOT
			trade_goods = fur
			continent = north_america
		} 

		trigger = { 
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 18
				trade_goods = fur
				continent = north_america
			}
		} 

		effect = {
			custom_tooltip = PF_LAG_3_YEARS_OF_INCOME
			add_years_of_trade_income = {
				years = 3
			}
			add_country_modifier = {
				name = pf_lag_lagrlondian_fur
				duration = -1
			}
		} 
	}
}
third_4 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_into_beyond = {
		icon = mission_look_west
		position = 15
		provinces_to_highlight = {  } 

		trigger = { num_of_colonists = 1 } 

		effect = { 
			add_country_modifier = {
				name = pf_lag_into_beyond_modifier
				duration = 7300
			}
		} 
	}

	pf_lag_carib = {
		icon = mission_caribbean_cn
		position = 17
		required_missions = { pf_lag_into_beyond } 
		provinces_to_highlight = { 
			colonial_region = colonial_the_carribean
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = { is_colonial_nation_of = ROOT } 
				}
			}
		 } 

		trigger = { 
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_the_carribean
			}
		} 

		effect = {
			add_country_modifier = {
				name = pf_lag_sugar_trade
				duration = 9125
			}

			custom_tooltip = PF_LAG_CLAIMS_COTS
			hidden_effect = {
				colonial_the_carribean = {
					limit = {
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
						province_has_center_of_trade_of_level = 1
					}
					add_permanent_claim_province = ROOT
				}
			}
		} 
	}

	pf_lag_austrlia = {
		icon = settle_austrialasia
		position = 19
		required_missions = { pf_lag_reach_india } 
		provinces_to_highlight = { 
			colonial_region = colonial_australia
			has_discovered = ROOT
			NOT = {
				OR = {
					owned_by = ROOT
					owner = { is_colonial_nation_of = ROOT } 
				}
			}
		} 

		trigger = { 
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_australia
			}
		} 

		effect = {
			add_country_modifier = {
				name = pf_lag_penal_colonies
				duration = 3650
			}
		} 
	}
}
fourth_3 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_west_africa = {
		icon = mission_west_african_ports
		position = 16
		required_missions = { pf_lag_into_beyond } 
		provinces_to_highlight = { 
			NOT = { owned_by = ROOT }
			has_discovered = ROOT
			region = guinea_region
		 } 

		trigger = { 
			num_of_owned_provinces_with = {
				value = 6
				region = guinea_region
			}
		 } 

		effect = {
			1466 = {
				add_trade_node_income = 5
			}
			custom_tooltip = empty_line_tt
			custom_tooltip = PF_LAG_COASTAL_GUINEA
			guinea_region = {
				limit = {
					has_port = yes
				}
				add_permanent_claim = ROOT
			}
		} 
	}

	pf_lag_triangle_trade = {
		icon = mission_the_triangle_trade
		position = 18
		required_missions = {
			pf_lag_west_africa
			pf_lag_carib
			pf_lag_east_coast
		}
		provinces_to_highlight = { 
			OR = {
				AND = {
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
					colonial_region = colonial_the_carribean
					province_has_center_of_trade_of_level = 1
				}
				AND = {
					NOT = { owned_by = ROOT }
					province_has_center_of_trade_of_level = 1
					OR = {
						superregion = europe_superregion
						region = guinea_region
					}
				}
			}
		} 

		trigger = { 
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 1
				owner = {
					OR = {
						tag = ROOT
						is_colonial_nation_of = ROOT
					}
				}
				colonial_region = colonial_the_carribean
				province_has_center_of_trade_of_level = 1
			}
			num_of_owned_provinces_with = {
				value = 1
				superregion = europe_superregion
				province_has_center_of_trade_of_level = 1
			}
			num_of_owned_provinces_with = {
				value = 1
				region = guinea_region
				province_has_center_of_trade_of_level = 1
			}
		} 

		effect = {
			custom_tooltip = PF_LAG_2_YEARS_OF_INCOME
			add_years_of_trade_income = {
				years = 2
			}
			custom_tooltip = empty_line_tt
			change_price = {
				trade_goods = slaves
				key = pf_lag_triangle_trade_price
				value = 0.5
				duration = 18250
			}
		} 
	}

	pf_lag_indonesia = {
		icon = dutch_east_indies
		position = 19
		required_missions = { pf_lag_reach_india } 
		provinces_to_highlight = { 
			region = indonesia_region
			has_discovered = ROOT
			OR = {
				NOT = { owned_by = ROOT }
				province_has_center_of_trade_of_level = 1
			}
		} 

		trigger = {  
			num_of_owned_provinces_with = {
				value = 10
				region = indonesia_region
			}
			num_of_owned_provinces_with = {
				value = 2
				region = indonesia_region
				province_has_center_of_trade_of_level = 1
			}
		} 

		effect = { 
			custom_tooltip = PF_LAG_PERMACLAIMS_SPICE_PROVINCES
			hidden_effect = {
				indonesia_region = {
					limit = {
						trade_goods = spices
						NOT = { owned_by = ROOT }
						NOT = { is_core = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		} 
	}

	pf_lag_spice_trade = {
		icon = mission_rb_colonise_spice_islands
		position = 21
		required_missions = { pf_lag_indonesia } 
		provinces_to_highlight = { 
			region = indonesia_region
			has_discovered = ROOT
			NOT = { owned_by = ROOT }
			trade_goods = spices
		} 

		trigger = { 
			num_of_owned_provinces_with = {
				value = 10
				region = indonesia_region
				trade_goods = spices
			}
		} 

		effect = { 
			add_country_modifier = {
				name = pf_lag_spices_flow
				duration = 7300
			}

			if = {
				limit = {
					trading_bonus = {
						trade_goods = spices
						value = yes
					}
				}
				custom_tooltip = YES_PF_LAG_SPICES_PERMANENT
				hidden_effect = {
					remove_country_modifier = pf_lag_spices_flow
					add_country_modifier = {
						name = pf_lag_spices_flow
						duration = -1
					}
				}
			}
			else = { custom_tooltip = NO_PF_LAG_SPICES_PERMANENT }
		} 
	}
}
fifth_3 = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = LAG } 

	pf_lag_cape_good_hope = {
		icon = colonize_the_cape
		position = 17
		required_missions = { pf_lag_west_africa } 
		provinces_to_highlight = { 
			NOT = { owned_by = ROOT }
			has_discovered = ROOT
			area = cape_of_good_hope_area
		} 

		trigger = {
			cape_of_good_hope_area = {
				type = all
				owned_by = ROOT
			}
			1460 = {
				is_city = yes
				OR = {
					has_shipyard_building_trigger = yes
					has_dock_building_trigger = yes
				}
			}
		} 

		effect = {
			1460 = {
				add_province_modifier = {
					name = pf_lag_cape_good_hope_station
					duration = -1
				}
				upgrade_building = {
					sailors = yes
					navy_forcelimit = yes 
				}
			}
			custom_tooltip = empty_line_tt
			lanka_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
			south_lanka_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
		} 
	}

	pf_lag_reach_india = {
		icon = mission_indian_trade_company
		position = 18
		required_missions = { pf_lag_cape_good_hope } 
		provinces_to_highlight = { 
			NOT = { owned_by = ROOT }
			has_discovered = ROOT
			OR = {
				area = lanka_area
				area = south_lanka_area
			}
		} 

		trigger = { 
			num_of_owned_provinces_with = {
				value = 4
				OR = {
					area = lanka_area
					area = south_lanka_area
				}
			}
		} 

		effect = {
			custom_tooltip = PF_LAG_FOOTHOLD_IN_INDIA
			tooltip = {
				add_province_modifier = {
					name = pf_lag_foothold_india
					duration = -1
				}
			}
			hidden_effect = {
				lanka_area = {
					limit = {
						owned_by = ROOT
					}
					add_province_modifier = {
						name = pf_lag_foothold_india
						duration = -1
					}
				}
				south_lanka_area = {
					limit = {
						owned_by = ROOT
					}
					add_province_modifier = {
						name = pf_lag_foothold_india
						duration = -1
					}
				}
			}
		} 
	}

	pf_lag_formosa = {
		icon = dutch_formosa
		position = 20
		required_missions = { pf_lag_reach_india } 
		provinces_to_highlight = { 
			NOT = { owned_by = ROOT }
			has_discovered = ROOT
			area = taiwan_area
		} 

		trigger = { 
			taiwan_area = {
				type = all
				owned_by = ROOT
				is_city = yes
			}
		} 

		effect = {
			custom_tooltip = PF_LAG_FORMOSA_FORTRESS
			tooltip = {
				add_province_modifier = {
					name = pf_lag_fortress_formosa
					duration = -1
				}
			}
			hidden_effect = {
				taiwan_area = {
					add_province_modifier = {
						name = pf_lag_fortress_formosa
						duration = -1
					}
				}
			}
			add_permanent_claim_province = {
				province = 667
			}
			add_permanent_claim_province = {
				province = 1012
			}
		} 
	}

	pf_lag_far_east = {
		icon = mission_to_china
		position = 21
		required_missions = { pf_lag_formosa } 
		provinces_to_highlight = { 
			OR = {
				province_id = 667
				province_id = 1012	
			}
			NOT = { owned_by = ROOT }
		} 

		trigger = { 
			owns_core_province = 667
			owns_core_province = 1012
		} 

		effect = { 
			add_prestige_or_monarch_power = {
				amount = 75
			}
			custom_tooltip = empty_line_tt
			add_country_modifier = {
				name = pf_lag_ports_in_the_far_east
				duration = -1
			}
		} 
	}
}
