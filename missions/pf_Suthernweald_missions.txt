pf_bav_1 = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = BAV } 

	bav_southern_lords = {
		icon = establish_oktoberfest
		position = 1

		trigger = {
			army_size_percentage = 0.85
		}

		effect = {
			upper_bavaria_area = { add_permanent_claim = ROOT	}
			upper_swabia_area = { add_permanent_claim = ROOT	}
			tirol_area = { add_permanent_claim = ROOT }
		}
	}

	bav_capital = {
		icon = establish_oktoberfest
		position = 3
		required_missions = { bav_southern_lords } 
		provinces_to_highlight = {
			province_id = 64
		}
		trigger = {
			64 = {
				owned_by = ROOT
				development = 12
			}
		}

		effect = {
			64 = {
				if = {
					limit = {
						has_building = courthouse
					}
					add_base_tax = 1
					add_base_production = 1
					add_base_manpower = 1
				}else = {
					add_building = courthouse
				}
			}
		}
	}
}

pf_bav_2 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = BAV } 
	bav_middle = {
		icon = mission_build_up_to_force_limit
		position = 2
		required_missions = { bav_southern_lords } 
		provinces_to_highlight = {
			OR = {
				area = upper_bavaria_area
				area = upper_swabia_area
			}
		}

		trigger = {
			upper_bavaria_area = {
				type = all
				OR = {
					owned_by = ROOT
					owned_by_subject_of = ROOT
				}
			}
			upper_swabia_area = {
				type = all
				OR = {
					owned_by = ROOT
					owned_by_subject_of = ROOT
				}
			}
		}

		effect = {
			define_advisor = {
				type = inquisitor
				skill = 2
				discount = yes
			}
			define_advisor = {
				type = theologian
				skill = 2
				discount = yes
			}
			add_casus_belli = {
				type = cb_vassalize_mission
				target = TIR
				months = -1
			}
		}
	}
}

pf_bav_3 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = BAV } 
	bav_marklander = {
		icon = mission_build_up_to_force_limit
		position = 3
		required_missions = { bav_moria } 
		provinces_to_highlight = {
			OR = {
				area = erzgebirge_area
				area = bohemia_area
			}
		}

		trigger = {
			OR = {
				AND = {
					erzgebirge_area = {
						type = all
						is_core = ROOT
					}
					bohemia_area = {
						type = all
						is_core = ROOT
					}
				}
				MVA = {
					is_subject_of = ROOT
				}
			}
		}

		effect = {
			if = {
				limit = {
					MVA = {
						is_subject_of = ROOT
					}
				}
				inherit = MVA
			}else = {
				custom_tooltip = CT_BAV_1
			}
			change_tag = MKM
			on_change_tag_effect = yes
			restore_country_name = yes
			swap_non_generic_missions = yes
			remove_non_electors_emperors_from_empire_effect = yes
			if = {
				limit = {
					has_custom_ideas = no
				}
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
			set_country_flag = formed_markland_flag
		}
	}
}

pf_bav_4 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = BAV } 
	bav_moria = {
		icon = mission_build_up_to_force_limit
		position = 2
		required_missions = { bav_markomanni } 
		provinces_to_highlight = {
			OR = {
				area = erzgebirge_area
				area = bohemia_area
			}
		}

		trigger = {
			erzgebirge_area = {
				type = all
				OR = {
					owned_by = ROOT
					owned_by_subject_of = ROOT
				}
			}
			bohemia_area = {
				type = all
				OR = {
					owned_by = ROOT
					owned_by_subject_of = ROOT
				}
			}
		}

		effect = {
			add_army_tradition = 10
			add_casus_belli = {
				type = cb_vassalize_mission
				target = STY
				months = -1
			}
		}
	}
}

pf_bav_5 = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = BAV } 

	bav_markomanni = {
		icon = establish_oktoberfest
		position = 1

		trigger = {
			prestige = 10
			has_mil_advisor = yes
		}

		effect = {
			erzgebirge_area = {add_permanent_claim = ROOT	}
			bohemia_area = { add_permanent_claim = ROOT	}
			add_casus_belli = {
				type = cb_vassalize_mission
				target = MVA
				months = -1
			}
		}
	}
	bav_styria = {
		icon = mission_build_up_to_force_limit
		position = 3
		required_missions = { bav_moria } 
		provinces_to_highlight = {
			is_core = STY
		}

		trigger = {
			OR = {
				STY = {
					is_subject_of = ROOT
				}
				STY = {
					all_core_province = {
						owned_by = ROOT
					}
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = bav_wine_party
				duration = 9125
			}
		}
	}
	
}